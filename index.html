<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>US Quiz </title>
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        
        <script> 
            $(document).ready(function(){
                
                //global variables
                var score = 0;
                
                //event Listeners
                $("button").on("click", gradeQuiz);
                
                //functions
                function isFormValid(){
                    let isValid = true;
                    if ($("#q1").val() == "") {
                        isValid = false;
                        $("#validationFdbk").html("Question 1 was not answered");
                    }
                    return isValid;
                }
                
                function gradeQuiz(){
                    $("#validationFdbk").html(""); //resets validation feedback
                    
                    if(!isFormValid()){
                        return;
                    }
                
                    function rightAnswer(index){
                        $(`#q${index}Feedback`).html("Correct!");
                        $(`#q${index}Feedback`).attr("class", "bg-success text-white");
                        $(`#markImg${index}`).html("<img src='img/checkmark.png' alt='checkmark'>");
                        score += 20;
                    }
                    
                    function wrongAnswer(index){
                        $(`#q${index}Feedback`).html("Incorrect!");
                        $(`#q${index}Feedback`).attr("class", "bg-warning text-white");
                        $(`#markImg${index}`).html("<img src='img/xmark.png' alt='xmark'>");
                    }
                
                
                    //variables
                    score = 0;
                    let q1Response = $("#q1").val().toLowerCase();
                    let q2Response = $("#q2").val();
                    
                    //Question 1
                    if (q1Response == "sacramento"){
                        rightAnswer(1);
                    }
                    else {
                        wrongAnswer(1);
                    }
                    
                    //Question 2
                    if (q2Response == "mo"){
                        rightAnswer(2);
                    }
                    else {
                        wrongAnswer(2);
                    }
                    
                    $("#totalScore").html(`Total Score: ${score}`);
                }
            })//ready
        </script>
        
    </head>
    <body class="text-center">
        <h1 class="jumbotron">US Geography Quiz</h1>
        
        <h3><span id="markImg1"></span>What is the capital of California?</h3>
        <input type="text" id="q1">
        <br/><br/>
        <div id="q1Feedback"></div>
        <br/><br/>
        
        <h3><span id="markImg2"></span>What is the longest river?</h3>
        <select id="q2">
                <option value="">Select One</option>
                <option value="ms">Mississippi</option>
                <option value="mo">Missouri</option>
                <option value="co">Colorado</option>
                <option value="de">Delaware</option>
        </select>
        <br/><br/>
        <div id="q2Feedback"></div>
        <br/>
        
        <h3 id="validationFdbk" class="bg-danger text-white"></h3>
        <button class="btn btn-secondary btn-lg btn-block">Submit Quiz</button>
        <h2 id="totalScore" class="text-info"></h2>
    </body>
</html>